<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>表单v-for时v-bind:key的使用</title>
		<script type="text/javascript" src="lib/vue.js"></script>
	</head>
	<body>
		<div id="div1">
			<input type="text" v-model="input">
			<button v-on:click="add">添加</button>
			<button v-on:click="remove">删除</button>
			<p v-for="item in list" v-bind:key="item.id">
				<input type="radio" name="radios" v-model="checkedId" v-bind:value="item.id" v-bind:checked="item.id === 0"><label>{{item.id}}&nbsp;{{item.text}}</label>
			</p>
		</div>
		<script>
			let vm = new Vue({
				el: "#div1",
				data: {
					list: [
						{id: 0, text: "你妈"},
						{id: 1, text: "爷"},
						{id: 2, text: "野兽先辈"}
					],
					input: "",
					latestId: 2,
					checkedId: 0
				},
				methods: {
					add: function() {
						this.list.push({id: ++this.latestId, text: this.input});
					},
					remove: function() {
						index = this.list.indexOf(this.list.filter((item) => {return item.id === this.checkedId;})[0]);
						if (index >= 0) {
							this.list.splice(index, 1);
						}
					}
				}
			})
		</script>
	</body>
</html>
